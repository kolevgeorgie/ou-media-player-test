<!doctype html><meta charset="utf-8" /><title>*Test report</title>

<!-- © 2015 The Open University. -->

<style>
body { background: #fdfdfd; color: #222; font: 1em sans-serif; margin: 0 2em; }
pre { font-size: 1.1em; line-height: 1.7em; max-width: 300em; margin: 2em 0; }

.tick, .passing { color: green; }
.er, .ex, .failing { color: red; }
.trace, .debug { color: #666; }
.passing, .failing { font-size: 1.5em; }
.passing { margin-top: 1em; }
.failing { margin-bottom: 1em; }
.line { white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.make { display: none; }

.loading { display: block; text-align: center; font-size: 3em; color: orange; white-space: normal; }
a.github img { position: absolute; top: 0; right: 0; border: 0; }
</style>

<h1>Test Report</h1>

<p id="test-date">Test date: <span></span></p>
<p id="test-url">Test URL: <a></a></p>
<p id="reports">Raw reports:
  <a href="../_out/report-spec.txt">text (spec)</a> |
  <a href="../_out/report.json">JSON</a>


<pre id="report-spec"><span class="loading">Loading...</span></pre>


<script src="//cdn.jsdelivr.net/superagent/0.18.0/superagent.min.js"></script>
<script>
window.onload = function () {

  var spec_file = "../_out/report-spec.txt"
    , json_file = "../_out/report.json"
    , get = window.superagent.get
    , q = function (s) { return document.querySelector(s); }
    , $spec = q("#report-spec")
    , $date = q("#test-date span")
    , $url  = q("#test-url a");

  json_file = window.location.href.match(/json/) ? json_file : false;

  get(spec_file, function (resp) {
    var lines = resp.text && resp.text.split(/\n/)
      , line, j = 0, html = [], cls
      , m_passfail, m_ref, m_url, url;

    for (j = 0; j < lines.length; j++) {
      line = lines[j];
      cls = 'line ';
      m_passfail = line.match(/\d (passing|failing)/);
      m_ref = line.match(/\d\) /);
      m_url = line.match(/> Base: ([\w:\.\/\-_]+)/);

      if (line.match(/✓/)) {
        cls += 'tick';
      }
      else if (m_passfail) {
        cls += m_passfail[1];
      }
      else if (line.match(/at .+\.js:\d+\:\d+\)?/)) {
        cls += 'trace';
      }
      else if (line.match(/> \w/)) {
        cls += 'debug';
      }
      else if (m_ref) {
        cls += 'er';
      }
      else if (line.match(/Uncaught \w+Error/)) {
        cls += 'ex';
      }
      else if (line.match(/make\[1\]/)) {
        cls += 'make';
      }

      if (m_url) {
        url = m_url[1];
      }
      html.push('<div id="line-'+ j +'" class="'+ cls +'">'+ line +'</div>');
    }

    $spec.innerHTML = html.join('');
    $date.innerHTML = resp.headers['last-modified'];
    $url.innerHTML = $url.href = url;
  });


  if (json_file) {
    get(json_file, function (resp) {
      var spec;
      console.log(resp);
      if (200 === resp.status) {
        try {
          spec = JSON.parse(resp.text);
        } catch (ex) {
          spec = "Error:" + ex.message;
        }
        console.log("Test report (JSON):", spec);

        $date.innerHTML = resp.headers['last-modified'];
      }
    });
  }

};
</script>



<p>
<a class="travis-ci" href="https://travis-ci.org/nfreear/ou-media-player-test#"
><img src="https://api.travis-ci.org/nfreear/ou-media-player-test.svg"
alt="Build passing/ failing (Travis CI)" title="Build passing/ failing (Travis CI)"></a>

<a class="github" href="https://github.com/nfreear/ou-media-player-test"><img src=
"https://camo.githubusercontent.com/e7bbb0521b397edbd5fe43e7f760759336b5e05f/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f677265656e5f3030373230302e706e67"
alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_green_007200.png"></a>
</p>

